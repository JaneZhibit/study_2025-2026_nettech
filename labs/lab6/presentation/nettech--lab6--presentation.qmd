---
# Preamble

## Author
author:
  name: Жибицкая Евгения Дмитриевна
  degrees: DSc
  orcid: 0000-0002-0877-7063
  email: 1132236130@rudn.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6
## Title
title: Лабораторная работа №6
subtitle: Сетевые технологии
license: CC BY
## Generic options
lang: ru-RU
crossref:
  lof-title: Список иллюстраций
  lot-title: Список таблиц
  lol-title: Листинги
## Formats
format:
### Pdf output format
  beamer:
    toc: true
    colorlinks: false
    toc-depth: 2
    slide_level: 2
    aspectratio: 169
    section-titles: true
    theme: metropolis
    themeoptions: progressbar=frametitle,sectionpage=progressbar,numbering=fraction
#### Language
    babel-lang: russian
    babel-otherlangs: english
### Html output
  revealjs:
    transition: slide
    margin: 0.2
    smaller: false
    output-ext: html
    theme: beige
    logo: _resources/image/logo_rudn.png
---

# Цель


## Цель

- Изучение принципов распределения и настройки адресного пространства на устройствах сети
- Приобретение практических навыков по настройке двойного стека адресации IPv4 и IPv6



# Ход работы

## Создание проекта и топологии
:::::::::::::: {.columns align=center}
::: {.column width="50%"}

Запускаем GNS3 VM и GNS3. Создаем новый проект. В рабочем пространстве размещаем и соединяем устройства в соответствии с топологией. Для подсети IPv4 используем маршрутизатор FRR, а для подсети с IPv6 — маршрутизатор VyOS.
:::
::: {.column width="50%"}


![Топология сети в GNS3](image/2.png)


:::
::::::::::::::

## Настройка IPv4-адресации
:::::::::::::: {.columns align=center}
::: {.column width="50%"}

![Настройка PC1](image/3.png)
:::
::: {.column width="50%"}

Настраиваем IPv4-адресацию для PC1 согласно таблице адресации. Выполняем команды ip 172.16.20.10/25 172.16.20.1 и save для сохранения конфигурации.

:::
::::::::::::::

## Настройка IPv4-адресации
:::::::::::::: {.columns align=center}
::: {.column width="50%"}

Настраиваем IPv4-адресацию для PC2. Выполняем команды ip 172.16.20.138/25 172.16.20.129 и save для сохранения конфигурации.
:::
::: {.column width="50%"}

![Настройка PC2](image/4.png)

:::
::::::::::::::

## Настройка IPv4-адресации
:::::::::::::: {.columns align=center}
::: {.column width="50%"}

![Настройка сервера](image/5.png)
:::
::: {.column width="50%"}

Настраиваем IPv4-адресацию для сервера. Выполняем команды ip 64.100.1.10/24 64.100.1.1 и save для сохранения конфигурации.

:::
::::::::::::::

## Проверка конфигурации
:::::::::::::: {.columns align=center}
::: {.column width="70%"}

![Конфигурация PC1 и PC2](image/6.png)
:::
::::::::::::::

## Настройка маршрутизатора FRR
:::::::::::::: {.columns align=center}
::: {.column width="50%"}

![Настройка имени](image/7.png)
:::
::: {.column width="50%"}

![Настройка интерфейсов](image/8.png)

:::
::::::::::::::

## Проверка конфигурации маршрутизатора
:::::::::::::: {.columns align=center}
::: {.column width="50%"}

![Конфигурация маршрутизатора](image/9.png)
:::
::: {.column width="50%"}

![Интерфейсы маршрутизатора](image/10.png)
:::
::::::::::::::

## Проверка подключения
:::::::::::::: {.columns align=center}
::: {.column width="40%"}

Проверяем подключение с помощью команд ping и trace между PC1, PC2 и сервером. Убеждаемся в успешной связи между устройствами IPv4-подсети.
:::
::: {.column width="70%"}

![Проверка ping и trace](image/11.png)

:::
::::::::::::::

## Настройка IPv6-адресации
:::::::::::::: {.columns align=center}
::: {.column width="65%"}

![Настройка PC3 и  PC4](image/12.png)
:::
::: {.column width="50%"}

Настраиваем IPv6-адресацию. Выполняем команды ip  и save для сохранения конфигурации.

:::
::::::::::::::


## Настройка IPv6-адресации
:::::::::::::: {.columns align=center}
::: {.column width="50%"}

![Настройка IPv6 на сервере](image/13.png)
:::
::: {.column width="50%"}

Настраиваем IPv6-адресацию для сервера. Выполняем команды ip 2001:db8:c0de:11::a/64 и save для сохранения конфигурации.

:::
::::::::::::::

## Проверка конфигурации
:::::::::::::: {.columns align=center}
::: {.column width="80%"}

![Конфигурация PC3 и PC4](image/14.png)

:::
::::::::::::::

## Настройка маршрутизатора VyOS
:::::::::::::: {.columns align=center}
::: {.column width="50%"}

Устанавливаем систему на маршрутизатор VyOS, изменяем имя устройства на msk-edzhibitskaya-gw-02 и назначаем IPv6-адреса интерфейсам согласно таблице адресации.
:::
::: {.column width="50%"}

![Настройка маршрутизатора VyOS](image/15.png)

:::
::::::::::::::

## Проверка конфигурации VyOS
:::::::::::::: {.columns align=center}
::: {.column width="50%"}

![Конфигурация интерфейсов VyOS](image/17.png)
:::
::: {.column width="50%"}

![Конфигурация интерфейсов VyOS](image/18.png)

:::
::::::::::::::

## Проверка подключения IPv6
:::::::::::::: {.columns align=center}
::: {.column width="50%"}

![Проверка с сервером](image/19.png)
:::
::: {.column width="50%"}

![Проверка между узлами](image/19_1.jpg)
:::
::::::::::::::

## Проверка подключения IPv6
:::::::::::::: {.columns align=center}
::: {.column width="85%"}

![Проверка между узлами](image/18_1.jpg)
:::
::::::::::::::

## Проверка изоляции подсетей
:::::::::::::: {.columns align=center}
::: {.column width="50%"}

![Проверка изоляции подсетей](image/20.png)
:::
::: {.column width="50%"}

![Доступ сервера](image/20_1.jpg)

:::
::::::::::::::

## Анализ сетевого трафика
:::::::::::::: {.columns align=center}
::: {.column width="50%"}

![Wireshark](image/21.png)
:::
::: {.column width="50%"}

Включаем захват трафика на соединении между сервером двойного стека адресации и ближайшим к нему коммутатором. Анализируем перехваченные пакеты ARP, ICMP, ICMPv6. В перехваченных пакетах наблюдаем процесс разрешения адресов, обмен эхо-запросами и ответами.

:::
::::::::::::::
# Задание для самостоятельного выполнения

## Задание для самостоятельного выполнения
:::::::::::::: {.columns align=center}
::: {.column width="50%"}

Создаем топологию сети для самостоятельной работы с двумя подсетями:
- Подсеть 1: 10.10.1.96/27 и 2001:DB8:1:1::/64
- Подсеть 2: 10.10.1.16/28 и 2001:DB8:1:4::/64
:::
::: {.column width="50%"}

![Топология для 6.3.3](image/22.png)

:::
::::::::::::::

## Таблица адресации

**Таблица 6.3.3 - Адресация сети:**

| Устройство | Интерфейс | IPv4-адрес | Маска | Шлюз | IPv6-адрес |
|------------|-----------|-------------|-------|------|-------------|
| msk-user-gw-01 | e0 | 10.10.1.97 | /27 | - | 2001:DB8:1:1::1/64 |
| msk-user-gw-01 | e1 | 10.10.1.17 | /28 | - | 2001:DB8:1:4::1/64 |
| PC1-user | e0 | 10.10.1.98 | /27 | 10.10.1.97 | 2001:DB8:1:1::a/64 |
| PC2-user | e0 | 10.10.1.18 | /28 | 10.10.1.17 | 2001:DB8:1:4::a/64 |


## Настройка адресации
:::::::::::::: {.columns align=center}
::: {.column width="50%"}

![Настройка адресации PC1](image/23.png)
:::
::: {.column width="50%"}

![Настройка адресации PC2](image/25.png)
:::
::::::::::::::

## Настройка маршрутизатора
:::::::::::::: {.columns align=center}
::: {.column width="50%"}

Настраиваем имя и адресацию на маршрутизаторе VyOS согласно таблице адресации.
:::
::: {.column width="50%"}

![Настройка имени](image/26.png)

:::
::::::::::::::

## Настройка маршрутизатора
:::::::::::::: {.columns align=center}
::: {.column width="50%"}
![Настройка маршрутизатора](image/28.png)
:::
::: {.column width="50%"}
![Настройка маршрутизатора](image/29.png)
:::
::::::::::::::

## Проверка подключения
:::::::::::::: {.columns align=center}
::: {.column width="50%"}
![Проверка ping и trace ](image/30.png)
:::
::: {.column width="50%"}
![Проверка со второго устройства](image/31.png)
:::
::::::::::::::


# Вывод

## Вывод

-  В ходе работы были изучены принципы распределения и настройки адресного пространства на устройствах сети, приобретены  навыки по настройке двойного стека адресации IPv4 и IPv6
- Успешно настроены IPv4-адресация на устройствах первой подсети и IPv6-адресация на устройствах второй подсети
- Проверено подключение между устройствами внутри каждой подсети и их изоляция друг от друга
- Выполнено задание для самостоятельной работы по настройке сети с двумя подсетями и проверке связи между устройствами
